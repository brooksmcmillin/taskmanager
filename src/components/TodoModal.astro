---
import Modal from './Modal.astro';
import TodoForm from './TodoForm.astro';
---

<Modal
  id="todoModal"
  title="Add New Todo"
  buttonId="addTodoBtn"
  buttonClass="add-todo-btn"
  resetFn="resetFormToAddMode"
>
  <TodoForm />
</Modal>

<script>
  // Expose openEditModal for TodoForm to call
  window.openEditModal = function (todo: any) {
    window.populateFormForEdit(todo);
    const modal = document.getElementById('todoModal');
    if (modal) {
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
  };
</script>
