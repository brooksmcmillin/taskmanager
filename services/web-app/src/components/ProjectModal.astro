---
import Modal from './Modal.astro';
import ProjectForm from './ProjectForm.astro';
---

<Modal
  id="projectModal"
  title="Add New Project"
  buttonId="addProjectBtn"
  buttonClass="add-project-btn"
  resetFn="resetProjectFormToAddMode"
>
  <ProjectForm />
</Modal>

<script>
  // Expose openEditProjectModal for ProjectForm to call
  window.openEditProjectModal = function (project: any) {
    window.populateProjectFormForEdit(project);
    const modal = document.getElementById('projectModal');
    if (modal) {
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
  };
</script>
